{% form_theme form _self %}

{% block ckeditor_widget %}
{% spaceless %}
    <textarea {{ block('widget_attributes') }}>{{ value }}</textarea>

    <script type="text/javascript" src="{{ asset('bundles/trsteelckeditor/ckeditor.js') }}"></script>
    <script type="text/javascript">
    {% autoescape true js %}
        CKEDITOR.replace("{{ id }}",{
            {% if width is not null %}
            width: '{{ width }}',
            {% endif %}
            {% if height is not null %}
            height: '{{ height }}',
            {% endif %}
            {% if language is not null %}
            language: '{{ language }}',            
            {% endif %}
            {% if ui_color is not null %}
                uiColor: "{{ ui_color }}",
            {% endif %}
            {% if startup_outline_blocks == true %}
            startupOutlineBlocks: {{ startup_outline_blocks }},
            {% endif %}
            {% if filebrowser_browse_url is not null %}
                filebrowserBrowseUrl: '{{ filebrowser_browse_url }}',
            {% endif %}
            {% if filebrowser_upload_url is not null %}
                filebrowserUploadUrl: '{{ filebrowser_upload_url }}',
            {% endif %}
            {% if filebrowser_image_browse_url is not null %}
                filebrowserImageBrowseUrl: '{{ filebrowser_image_browse_url }}',
            {% endif %}
            {% if filebrowser_image_upload_url is not null %}
                filebrowserImageUploadUrl: '{{ filebrowser_image_upload_url }}',
            {% endif %}
            {% if filebrowser_flash_browse_url is not null %}
                filebrowserFlashBrowseUrl: '{{ filebrowser_flash_browse_url }}',
            {% endif %}
            {% if filebrowser_flash_upload_url is not null %}
                filebrowserFlashUploadUrl: '{{ filebrowser_flash_upload_url }}',
            {% endif %}
            {% if format_tags is not null %}
                format_tags: '{{ format_tags }}',
            {% endif %}
            toolbar: {{ toolbar | json_encode | raw }}
        });
    {% endautoescape %}
    </script>
{% endspaceless %}
{% endblock %}